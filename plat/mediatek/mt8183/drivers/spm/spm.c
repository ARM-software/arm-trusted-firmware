/*
 * Copyright (c) 2018, ARM Limited and Contributors. All rights reserved.
 *
 * SPDX-License-Identifier: BSD-3-Clause
 */
#include <lib/bakery_lock.h>
#include <common/debug.h>
#include <drivers/delay_timer.h>
#include <lib/mmio.h>
#include <spm.h>

DEFINE_BAKERY_LOCK(spm_lock);

const char *wakeup_src_str[32] = {
	[0] = "R12_PCM_TIMER",
	[1] = "R12_SSPM_WDT_EVENT_B",
	[2] = "R12_KP_IRQ_B",
	[3] = "R12_APWDT_EVENT_B",
	[4] = "R12_APXGPT1_EVENT_B",
	[5] = "R12_CONN2AP_SPM_WAKEUP_B",
	[6] = "R12_EINT_EVENT_B",
	[7] = "R12_CONN_WDT_IRQ_B",
	[8] = "R12_CCIF0_EVENT_B",
	[9] = "R12_LOWBATTERY_IRQ_B",
	[10] = "R12_SSPM_SPM_IRQ_B",
	[11] = "R12_SCP_SPM_IRQ_B",
	[12] = "R12_SCP_WDT_EVENT_B",
	[13] = "R12_PCM_WDT_WAKEUP_B",
	[14] = "R12_USB_CDSC_B ",
	[15] = "R12_USB_POWERDWN_B",
	[16] = "R12_SYS_TIMER_EVENT_B",
	[17] = "R12_EINT_EVENT_SECURE_B",
	[18] = "R12_CCIF1_EVENT_B",
	[19] = "R12_UART0_IRQ_B",
	[20] = "R12_AFE_IRQ_MCU_B",
	[21] = "R12_THERM_CTRL_EVENT_B",
	[22] = "R12_SYS_CIRQ_IRQ_B",
	[23] = "R12_MD2AP_PEER_EVENT_B",
	[24] = "R12_CSYSPWREQ_B",
	[25] = "R12_MD1_WDT_B ",
	[26] = "R12_CLDMA_EVENT_B",
	[27] = "R12_SEJ_WDT_GPT_B",
	[28] = "R12_ALL_SSPM_WAKEUP_B",
	[29] = "R12_CPU_IRQ_B",
	[30] = "R12_CPU_WFI_AND_B",
};

static const uint32_t allinone_lp4_3200_binary[] = {
	0x814a1801, 0xd80001a5, 0x17c07c1f, 0xa1d58407, 0xa1d70407, 0x81f68407,
	0x803a0400, 0x1b80001f, 0x20000000, 0x80300400, 0x81f28407, 0x81f20407,
	0x81f88407, 0x81431801, 0xd8000225, 0x17c07c1f, 0x80318400, 0x814a1801,
	0xd8200325, 0x17c07c1f, 0x1a00001f, 0x10006700, 0xe2200006, 0xc0c082c0,
	0x17c07c1f, 0x814a1801, 0xd80006c5, 0x17c07c1f, 0x814a1801, 0xc8e074a5,
	0x17c07c1f, 0x1880001f, 0x10006028, 0xe080000f, 0xc0c07d60, 0x17c07c1f,
	0xd8000523, 0x17c07c1f, 0x1880001f, 0x10006028, 0xe080001f, 0xc0c07b60,
	0x11407c1f, 0x814a1801, 0xc8e07885, 0x17c07c1f, 0xa1dd0407, 0x81f00407,
	0x18d0001f, 0x10006164, 0x80df0403, 0xd8200603, 0x17c07c1f, 0x81fd0407,
	0x814a1801, 0xd8200765, 0x17c07c1f, 0x1b80001f, 0x20000104, 0x18d0001f,
	0x100066b4, 0x81090c01, 0xd8000824, 0x1090841f, 0x80888c01, 0x81008c01,
	0x08800002, 0x00000010, 0x09000004, 0x00000000, 0x1a00001f, 0x10006700,
	0xe2000004, 0xc0c082c0, 0x17c07c1f, 0xe2000002, 0xc0c082c0, 0x17c07c1f,
	0x1b80001f, 0x20000208, 0x80328400, 0xc28081c0, 0x1290041f, 0xa19d8406,
	0xa1dc0407, 0x1b00001f, 0x00000006, 0xf0000000, 0x17c07c1f, 0x81fc0407,
	0x1b00001f, 0xffffffff, 0x81fc8407, 0x1b80001f, 0x20000004, 0x88c0000c,
	0xffffffff, 0xd8200d03, 0x17c07c1f, 0xa1dc0407, 0x1b00001f, 0x00000000,
	0xd00017c0, 0x17c07c1f, 0xa1dc0407, 0x1b10001f, 0x10006148, 0x1b80001f,
	0x20000004, 0xa1dc8407, 0x80d0840c, 0xd8000ea3, 0x17c07c1f, 0x1b10001f,
	0x10006148, 0xd00017c0, 0x17c07c1f, 0x1950001f, 0x10006610, 0x81429401,
	0xd8000f85, 0x11007c1f, 0x1900001f, 0x00000015, 0x1a00001f, 0x10006700,
	0xe2000004, 0xc0c082c0, 0x17c07c1f, 0xe2200014, 0xc0c082c0, 0x17c07c1f,
	0x814a1801, 0xd80013c5, 0x17c07c1f, 0x814a1801, 0xc8e074a5, 0x17c07c1f,
	0x1880001f, 0x10006028, 0xe080000f, 0xc0c07d60, 0x17c07c1f, 0xd82012a3,
	0x814a1801, 0xc8e07885, 0x17c07c1f, 0xd00017c0, 0x17c07c1f, 0x1880001f,
	0x10006028, 0xe080001f, 0xc0c07b60, 0x1140041f, 0x814a1801, 0xc8e07885,
	0x17c07c1f, 0x81f00407, 0x814a1801, 0xd82014c5, 0x17c07c1f, 0x1a00001f,
	0x10006700, 0xe2200007, 0xc0c082c0, 0x17c07c1f, 0x81431801, 0xd8001545,
	0x17c07c1f, 0xa0118400, 0x81bd8406, 0xa0128400, 0xa1dc0407, 0x1b00001f,
	0x00000001, 0xc28081c0, 0x1290841f, 0x814a1801, 0xd80017c5, 0x17c07c1f,
	0xa1d88407, 0x1b80001f, 0x20000014, 0xa1d20407, 0x81f28407, 0xa1d68407,
	0xa0100400, 0xa01a0400, 0x81f70407, 0x81f58407, 0xf0000000, 0x17c07c1f,
	0x814a1801, 0xb14098a1, 0xd8001a05, 0x17c07c1f, 0x18c0001f, 0x10006318,
	0xc0c06160, 0x1200041f, 0x1b80001f, 0x2000000e, 0xe8208000, 0x10006408,
	0x18ff9f3f, 0xe8208000, 0x1000640c, 0x0fffff04, 0xc28081c0, 0x1291041f,
	0xa19e0406, 0x18c0001f, 0x10006194, 0xe0e00001, 0xa1dc0407, 0x1b00001f,
	0x00000058, 0xf0000000, 0x17c07c1f, 0x814a1801, 0xb14098a1, 0xd8001d25,
	0x17c07c1f, 0xe8208000, 0x1000640c, 0xffffffff, 0xe8208000, 0x10006408,
	0xffffffff, 0x18c0001f, 0x10006318, 0xc0c063c0, 0x17c07c1f, 0xc28081c0,
	0x1291841f, 0x81be0406, 0x18c0001f, 0x10006194, 0xe0e00000, 0xa1dc0407,
	0x1b00001f, 0x00000006, 0xf0000000, 0x17c07c1f, 0x80cf1801, 0xc8e04ec3,
	0x17c07c1f, 0xc0c06720, 0x17c07c1f, 0xc0c06d00, 0x17c07c1f, 0xc0c09820,
	0x17c07c1f, 0xc0c086a0, 0x17c07c1f, 0xc0c09420, 0x17c07c1f, 0x814a9801,
	0xd8202185, 0x17c07c1f, 0xe8208000, 0x10006408, 0x187f9321, 0xe8208000,
	0x1000640c, 0x0ffcff00, 0xd0002240, 0x17c07c1f, 0xe8208000, 0x10006408,
	0x187f9f21, 0xe8208000, 0x1000640c, 0x0fffff00, 0xa1d80407, 0xc28081c0,
	0x1292041f, 0x1900001f, 0x100060d0, 0xe1200000, 0x1910001f, 0x1000661c,
	0x80c81001, 0xd8202663, 0xa1198404, 0x18c0001f, 0x1000661c, 0xe0c00004,
	0x1910001f, 0x1000665c, 0x18c0001f, 0x10006694, 0x89000004, 0x0000ffff,
	0xe0c00004, 0xd00035e0, 0x17c07c1f, 0x18c0001f, 0x1000661c, 0x1910001f,
	0x1000661c, 0x89000004, 0xfff0ffff, 0xe0c00004, 0x18c0001f, 0x10006694,
	0xe0c0001f, 0xa19e8406, 0xa1dc0407, 0x1b00001f, 0x00002120, 0xf0000000,
	0x17c07c1f, 0xe8208000, 0x1000640c, 0x0fffff04, 0xe8208000, 0x10006408,
	0x18ff9f3f, 0x1b80001f, 0x20000044, 0x81f80407, 0x80cf9801, 0xc8e06d03,
	0xa19f8406, 0x18d0001f, 0x100066c4, 0x80c08c01, 0x1910001f, 0x100066b4,
	0x81009001, 0x80e01003, 0xd8202cc3, 0x17c07c1f, 0x18c0001f, 0x10006694,
	0xe0e00008, 0x1910001f, 0x1000661c, 0x18c0001f, 0x1000665c, 0xe0c00004,
	0x18c0001f, 0x1000661c, 0xa9000004, 0x00030000, 0xe0c00004, 0xd00035e0,
	0x17c07c1f, 0x18c0001f, 0x1000661c, 0x1910001f, 0x1000661c, 0x81388404,
	0xe0c00004, 0x18c0001f, 0x10006694, 0xe0c0001f, 0x80c93401, 0xd8202cc3,
	0x17c07c1f, 0xc0c09aa0, 0x17c07c1f, 0xc0c09660, 0x17c07c1f, 0xc0c07080,
	0x17c07c1f, 0x1a40001f, 0x10006028, 0xe240000f, 0xd8203343, 0x17c07c1f,
	0xa1d80407, 0xc0c09820, 0x17c07c1f, 0xe8208000, 0x1000640c, 0x0fffff00,
	0xa1dc0407, 0x13007c1f, 0x81fc0407, 0x1910001f, 0x1000661c, 0x80c81001,
	0xd8203303, 0xa1190404, 0x18c0001f, 0x1000661c, 0xe0c00004, 0x1910001f,
	0x1000665c, 0x18c0001f, 0x10006694, 0x89000004, 0x0000ffff, 0xe0c00004,
	0xd00035e0, 0x17c07c1f, 0x18c0001f, 0x1000661c, 0x1910001f, 0x1000661c,
	0x89000004, 0xfff0ffff, 0xe0c00004, 0x18c0001f, 0x10006694, 0xe0c0001f,
	0xd00035a0, 0x17c07c1f, 0x1a40001f, 0x10006028, 0xe240001f, 0xc0c091e0,
	0x17c07c1f, 0xc0c06ba0, 0x17c07c1f, 0xc0c06480, 0x17c07c1f, 0x1900001f,
	0x100060d0, 0xe1200006, 0xc28081c0, 0x1292841f, 0x81be8406, 0xa19f8406,
	0xa1dc0407, 0x1b00001f, 0x00000090, 0xf0000000, 0x17c07c1f, 0x828f9801,
	0xd80036ca, 0x17c07c1f, 0xc0c06d00, 0x17c07c1f, 0xc0c09820, 0x17c07c1f,
	0x81f20407, 0x81f28407, 0xc0c0aa60, 0x17c07c1f, 0xc0c0a640, 0x17c07c1f,
	0xd8003ac4, 0x17c07c1f, 0x1910001f, 0x10006610, 0x89000009, 0x0ffffccc,
	0xd8203ac4, 0x17c07c1f, 0x1910001f, 0x100066b0, 0x60f00404, 0xd8003ac3,
	0x1290041f, 0xc0c0a8c0, 0x17c07c1f, 0xc0c0b360, 0x17c07c1f, 0xc0c0bae0,
	0x17c07c1f, 0x1890001f, 0x10017008, 0x18c0001f, 0x10006658, 0xe0c00002,
	0xc0c0f0c0, 0x17c07c1f, 0x89000009, 0x0ffff888, 0xd8003bc4, 0x1150841f,
	0x89000009, 0x00000777, 0xd8003bc4, 0x1150041f, 0x81019801, 0xd80041a4,
	0x17c07c1f, 0x1a10001f, 0x100066b4, 0x81101408, 0xd80041a4, 0x17c07c1f,
	0x81079801, 0x80c09401, 0xa1000c04, 0xd8003e04, 0x17c07c1f, 0x18c0001f,
	0x100066c8, 0x1900001f, 0x00000013, 0xe0c00004, 0xc0c0ee80, 0x17c07c1f,
	0xc0c0f2e0, 0x1280941f, 0x1b80001f, 0x20000330, 0xd8003f4a, 0x17c07c1f,
	0x1b80001f, 0x20000330, 0xc0c0f0c0, 0x17c07c1f, 0x81079801, 0x80c01401,
	0xa1000c04, 0xd80040a4, 0x17c07c1f, 0x18c0001f, 0x100066c8, 0x1100041f,
	0xe0c00004, 0x1900001f, 0x100066b4, 0x18d0001f, 0x100066b4, 0x88c00003,
	0x00ffff00, 0xa0d01403, 0xe1000003, 0x81091801, 0xd8004724, 0x10d1041f,
	0x89000009, 0x0ffff000, 0x00e00403, 0xd8004424, 0x1151841f, 0x89000009,
	0x00000f00, 0x00e00403, 0xd8004424, 0x1151041f, 0x89000009, 0x000000f0,
	0x00e00403, 0xd8004424, 0x1150841f, 0x00e00403, 0x1150041f, 0x1a10001f,
	0x100066b4, 0x81181408, 0xd8004724, 0x17c07c1f, 0xe8208000, 0x10006960,
	0x00000012, 0x1900001f, 0x1000696c, 0xe12002a8, 0xe8208000, 0x10006960,
	0x00000011, 0xc100f2e0, 0xa2920403, 0x1910001f, 0x10006960, 0x81079001,
	0xd8204624, 0x17c07c1f, 0xe8208000, 0x10006960, 0x00000010, 0xc200f420,
	0x17c07c1f, 0xd82049aa, 0x17c07c1f, 0x1910001f, 0x10012600, 0x1081901f,
	0x32a00803, 0xa2810c0a, 0xd82049aa, 0x17c07c1f, 0x80809001, 0x1910001f,
	0x100066b4, 0x80c09001, 0x32a00803, 0xd82049aa, 0x17c07c1f, 0xc200f420,
	0x17c07c1f, 0x1900001f, 0x100066b4, 0x18d0001f, 0x100066b4, 0x88c00003,
	0x0000ffff, 0xa0d81403, 0xe1000003, 0xa1d32807, 0xc0c0a640, 0x17c07c1f,
	0xd8004ce4, 0x17c07c1f, 0xc0c0a8c0, 0x17c07c1f, 0xc0c0b360, 0x17c07c1f,
	0xc0c0bae0, 0x17c07c1f, 0x1890001f, 0x10017008, 0x18c0001f, 0x10006658,
	0xe0c00002, 0xc0c0f0c0, 0x17c07c1f, 0xc0c0aee0, 0x17c07c1f, 0x1950001f,
	0x1000661c, 0x80c81401, 0xd8204e83, 0x81089401, 0xd8002ba4, 0x81091401,
	0xd80031c4, 0x17c07c1f, 0xd0002520, 0x17c07c1f, 0xf0000000, 0x17c07c1f,
	0x18c0001f, 0x1000644c, 0xe0e00303, 0x1b80001f, 0x2000001a, 0xe0e00003,
	0x1b80001f, 0x2000028a, 0xe0e00000, 0x1b80001f, 0x2000001a, 0x81f98407,
	0x81f90407, 0x1392841f, 0x81f40407, 0x1391841f, 0x18c0001f, 0x10006604,
	0x1910001f, 0x10006604, 0xa1130404, 0xe0c00004, 0xa19f0406, 0x1b00001f,
	0x00000090, 0xf0000000, 0x17c07c1f, 0xa1d40407, 0x1391841f, 0xa1d90407,
	0x1392841f, 0xa1d98407, 0x18c0001f, 0x1000644c, 0xe0e00003, 0xe0e00303,
	0xe0e00333, 0xc28081c0, 0x1293841f, 0x81bf0406, 0x1b00001f, 0x00000058,
	0x810a9801, 0x81471801, 0x81601404, 0xd82054e5, 0x17c07c1f, 0x1b00001f,
	0x00000050, 0xf0000000, 0x17c07c1f, 0xc0c06d00, 0x17c07c1f, 0xc0c09820,
	0x17c07c1f, 0xc28081c0, 0x1294041f, 0xa19f8406, 0xc0c05e80, 0x17c07c1f,
	0xf0000000, 0x17c07c1f, 0xc0c09660, 0x17c07c1f, 0x80cfb401, 0xd8205763,
	0x17c07c1f, 0xd0005dc0, 0x17c07c1f, 0xc0c07080, 0x17c07c1f, 0x1a40001f,
	0x10006028, 0xe240000f, 0xd8205923, 0x17c07c1f, 0xc0c09820, 0x17c07c1f,
	0xa1dc0407, 0x13007c1f, 0x81fc0407, 0xd0005e40, 0x17c07c1f, 0x1a40001f,
	0x10006028, 0xe240001f, 0x80cfb401, 0xd8205b23, 0x17c07c1f, 0xa0180400,
	0x17c07c1f, 0x17c07c1f, 0x81f08407, 0x824ab401, 0xd8005a69, 0x17c07c1f,
	0x80380400, 0xd0005dc0, 0x17c07c1f, 0xc0806ba0, 0x17c07c1f, 0x80cfb401,
	0xd8205c43, 0x17c07c1f, 0xc0806d00, 0x17c07c1f, 0xd0005dc0, 0x17c07c1f,
	0xc28081c0, 0x1294841f, 0x81bf8406, 0x1b00001f, 0x00001120, 0x81461801,
	0xd8205d85, 0x17c07c1f, 0x1b00001f, 0x00001100, 0xd0005e40, 0x17c07c1f,
	0xc0c09820, 0x17c07c1f, 0xc0c05e80, 0x17c07c1f, 0xf0000000, 0x17c07c1f,
	0x1a40001f, 0x00002100, 0x814a9801, 0x81461805, 0xd8005f85, 0x17c07c1f,
	0x1a40001f, 0x00002120, 0x81fc0407, 0x18d0001f, 0x10006140, 0x13000c1f,
	0xa1dc0407, 0x81fc8407, 0xd820610c, 0x17c07c1f, 0xe8208000, 0x100060b0,
	0x00000001, 0x12407c1f, 0x1300241f, 0xf0000000, 0x17c07c1f, 0xe0f07f16,
	0x1380201f, 0xe0f07f1e, 0x1380201f, 0xe0f07f0e, 0xe0f07f0c, 0xe0f07f0d,
	0xe0f07e0d, 0x1b80001f, 0x2000001a, 0xe0f07c0d, 0x1b80001f, 0x2000001a,
	0xe0f0780d, 0x1b80001f, 0x2000001a, 0xe0f0700d, 0xf0000000, 0x17c07c1f,
	0xe0f07f0d, 0xe0f07f0f, 0xe0f07f1e, 0xe0f07f12, 0xf0000000, 0x17c07c1f,
	0x80378400, 0xa0150400, 0xa01c0400, 0xa0190400, 0x81411801, 0xd80066e5,
	0x17c07c1f, 0x18c0001f, 0x1000631c, 0xe0e0010d, 0xe0e0030d, 0xe0e0070d,
	0xe0e00f0d, 0x1b80001f, 0x20000044, 0xe0e00f0f, 0xe0e00f1f, 0xe0e00f1e,
	0xe0e00f12, 0xf0000000, 0x17c07c1f, 0x81411801, 0xd8006925, 0x17c07c1f,
	0x18c0001f, 0x1000631c, 0xe0e00f16, 0xe0e00f1e, 0xe0e00f0e, 0x1b80001f,
	0x20000044, 0xe0e00f0c, 0xe0e00f0d, 0xe0e0070d, 0xe0e0030d, 0xe0e0010d,
	0xe0e0000d, 0x80390400, 0x803c0400, 0x1b80001f, 0x20000550, 0x80350400,
	0xa0188400, 0x1b80001f, 0x20000004, 0xa0198400, 0x1b80001f, 0x20000004,
	0x80398400, 0x1b80001f, 0x2000000d, 0x80388400, 0xa0178400, 0x1b80001f,
	0x20000550, 0xf0000000, 0x17c07c1f, 0xa1da0407, 0xa1d38407, 0xa0130400,
	0xa0138400, 0xa0110400, 0x80340400, 0x80360400, 0x80368400, 0x80370400,
	0xf0000000, 0x17c07c1f, 0xa0170400, 0x17c07c1f, 0xa0168400, 0xa0180400,
	0xa0160400, 0x1b80001f, 0x20000017, 0xa0140400, 0x1b80001f, 0x2000001e,
	0x80330400, 0x80310400, 0x1b80001f, 0x2000000b, 0x80338400, 0x81fa0407,
	0x81f38407, 0x81f08407, 0x824ab401, 0xd8006f49, 0x17c07c1f, 0x80380400,
	0xa01b8400, 0x1b80001f, 0x20000004, 0x803b8400, 0xf0000000, 0x17c07c1f,
	0x1900001f, 0x00000015, 0xa1d08407, 0xd8207164, 0x80eab401, 0xd80070e3,
	0x01200404, 0xd82073c3, 0x17c07c1f, 0xa0180400, 0x17c07c1f, 0x17c07c1f,
	0x81f08407, 0xe8208000, 0x100060b0, 0x00000001, 0x1900001f, 0x10006780,
	0x19700004, 0x17c07c1f, 0xa1500405, 0xe1000005, 0x824ab401, 0xd8007349,
	0x17c07c1f, 0x80380400, 0xf0000000, 0x17c07c1f, 0xa1d10407, 0x1b80001f,
	0x20000052, 0xf0000000, 0x17c07c1f, 0x18d0001f, 0x10006458, 0x81000c01,
	0x1890001f, 0x10006610, 0x18c0001f, 0x10006610, 0xa0951002, 0xe0c00002,
	0xd8007844, 0x17c07c1f, 0x1880001f, 0x10006458, 0x18d0001f, 0x10006458,
	0xa0d00403, 0xe0800003, 0x1b80001f, 0x2000001a, 0xa0d08403, 0xe0800003,
	0x1b80001f, 0x20000300, 0x80f08403, 0xe0800003, 0x1b80001f, 0x20000c58,
	0xa0d10403, 0xe0800003, 0xf0000000, 0x17c07c1f, 0x1910001f, 0x10006610,
	0x80851001, 0x80c21001, 0xa0c00803, 0x1910001f, 0x10006610, 0x1880001f,
	0x10006610, 0x81350404, 0xe0800004, 0xd8007b23, 0x17c07c1f, 0x1880001f,
	0x10006458, 0x18d0001f, 0x10006458, 0x80f10403, 0xe0800003, 0x80f00403,
	0xe0800003, 0xf0000000, 0x17c07c1f, 0x1910001f, 0x10006610, 0x81019001,
	0xd8007d24, 0x17c07c1f, 0x1880001f, 0x10006458, 0x18d0001f, 0x10006458,
	0x80f18403, 0xa0d19403, 0xe0800003, 0x1b80001f, 0x2000001a, 0xf0000000,
	0x17c07c1f, 0xe8208000, 0x10006900, 0x00000012, 0xe8208000, 0x1000690c,
	0x00000a28, 0xa1d00407, 0xe8208000, 0x10006900, 0x00000011, 0x808a3401,
	0x18d0001f, 0x10006900, 0x80c78c01, 0xd8008122, 0x17c07c1f, 0xd8207ea3,
	0x17c07c1f, 0xa1dc0407, 0x13007c1f, 0x81e00407, 0xe8208000, 0x100060b0,
	0x00000001, 0x1900001f, 0x10006780, 0x19700004, 0x17c07c1f, 0xa1508c05,
	0xe1000005, 0xe8208000, 0x10006900, 0x00000010, 0xf0000000, 0x17c07c1f,
	0x18c0001f, 0x10006604, 0x1910001f, 0x10006604, 0xa1002804, 0xe0c00004,
	0xf0000000, 0x17c07c1f, 0x18d0001f, 0x10006704, 0x80c48c01, 0xd82082c3,
	0x17c07c1f, 0x1a50001f, 0x10006930, 0x80c7a401, 0x1a40001f, 0x10006780,
	0x19700009, 0x17c07c1f, 0xa1510c05, 0xe2400005, 0xf0000000, 0x17c07c1f,
	0x1900001f, 0x1000647c, 0xe100001f, 0xf0000000, 0x17c07c1f, 0xa0158400,
	0xf0000000, 0x17c07c1f, 0x80358400, 0xf0000000, 0x17c07c1f, 0xf0000000,
	0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x1910001f, 0x1022a064, 0xa9000004,
	0x00000020, 0x1940001f, 0x1022a064, 0xe1400004, 0x1910001f, 0x1022a05c,
	0x88c00004, 0xf3e000ff, 0xa9000003, 0x00000400, 0x1940001f, 0x1022a05c,
	0xe1400004, 0x1910001f, 0x1022a060, 0xa9000004, 0x00000002, 0x1940001f,
	0x1022a060, 0xe1400004, 0x10c07c1f, 0x1910001f, 0x1022c088, 0x88c00004,
	0x00000002, 0xd82089a3, 0x17c07c1f, 0x1910001f, 0x1022a060, 0x89000004,
	0xfffffffd, 0x1940001f, 0x1022a060, 0xe1400004, 0x1910001f, 0x1022a064,
	0x89000004, 0xffffffdf, 0x1940001f, 0x1022a064, 0xe1400004, 0x1910001f,
	0x10232064, 0xa9000004, 0x00000020, 0x1940001f, 0x10232064, 0xe1400004,
	0x1910001f, 0x1023205c, 0x88c00004, 0xf3e000ff, 0xa9000003, 0x00000400,
	0x1940001f, 0x1023205c, 0xe1400004, 0x1910001f, 0x10232060, 0xa9000004,
	0x00000002, 0x1940001f, 0x10232060, 0xe1400004, 0x10c07c1f, 0x1910001f,
	0x10234088, 0x88c00004, 0x00000002, 0xd8208f23, 0x17c07c1f, 0x1910001f,
	0x10232060, 0x89000004, 0xfffffffd, 0x1940001f, 0x10232060, 0xe1400004,
	0x1910001f, 0x10232064, 0x89000004, 0xffffffdf, 0x1940001f, 0x10232064,
	0xe1400004, 0xf0000000, 0x17c07c1f, 0x1a40001f, 0x1022d3fc, 0x19300009,
	0x17c07c1f, 0xa1100404, 0xe2400004, 0x19300009, 0x17c07c1f, 0x1a40001f,
	0x102353fc, 0x19300009, 0x17c07c1f, 0xa1100404, 0xe2400004, 0x19300009,
	0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x1a40001f, 0x1022d3fc, 0x19300009,
	0x17c07c1f, 0x81300404, 0xe2400004, 0x19300009, 0x17c07c1f, 0x1a40001f,
	0x102353fc, 0x19300009, 0x17c07c1f, 0x81300404, 0xe2400004, 0x19300009,
	0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x1890001f, 0x1022a22c, 0x18c0001f,
	0x1022a22c, 0x80bf8402, 0xe0c00002, 0x1890001f, 0x1023204c, 0x18c0001f,
	0x1023204c, 0x80b10402, 0xe0c00002, 0xf0000000, 0x17c07c1f, 0x80cf8001,
	0xa0cf0003, 0xd8009a63, 0x17c07c1f, 0x1910001f, 0x1022a22c, 0xa11f8404,
	0x1940001f, 0x1022a22c, 0xe1400004, 0x1910001f, 0x1023204c, 0xa1110404,
	0x1940001f, 0x1023204c, 0xe1400004, 0x18d0001f, 0x1023204c, 0xf0000000,
	0x17c07c1f, 0x810f8001, 0xa10f0004, 0xd800a604, 0x17c07c1f, 0x1890001f,
	0x1022a864, 0x18c0001f, 0x1022a864, 0x88800002, 0xf00fffff, 0xe0c00002,
	0x1890001f, 0x1022c468, 0x18d0001f, 0x1022c468, 0x1910001f, 0x1022c468,
	0x61701003, 0x70f07c04, 0x80c01403, 0xd8209f23, 0x17c07c1f, 0x18c0001f,
	0x1022a8a8, 0xe0c00004, 0x18c0001f, 0x1022a8ac, 0xe0c00004, 0x18c0001f,
	0x102328a8, 0xe0c00004, 0x18c0001f, 0x102328ac, 0xe0c00004, 0xd000a0a0,
	0x17c07c1f, 0x18c0001f, 0x1022a8a8, 0xe0c00002, 0x18c0001f, 0x1022a8ac,
	0xe0c00002, 0x18c0001f, 0x102328a8, 0xe0c00002, 0x18c0001f, 0x102328ac,
	0xe0c00002, 0x1890001f, 0x1022c460, 0x18d0001f, 0x1022c460, 0x1910001f,
	0x1022c460, 0x61701003, 0x70f07c04, 0x80c01403, 0xd820a3c3, 0x17c07c1f,
	0x18c0001f, 0x1022a8b0, 0xe0c00004, 0x18c0001f, 0x1022a8b4, 0xe0c00004,
	0x18c0001f, 0x102328b0, 0xe0c00004, 0x18c0001f, 0x102328b4, 0xe0c00004,
	0xd000a540, 0x17c07c1f, 0x18c0001f, 0x1022a8b0, 0xe0c00002, 0x18c0001f,
	0x1022a8b4, 0xe0c00002, 0x18c0001f, 0x102328b0, 0xe0c00002, 0x18c0001f,
	0x102328b4, 0xe0c00002, 0x1890001f, 0x1022a864, 0x18c0001f, 0x1022a864,
	0xa09a0402, 0xe0c00002, 0xf0000000, 0x17c07c1f, 0x80c21801, 0xd800a883,
	0x1100041f, 0x89000009, 0x0ffffccc, 0xd800a824, 0x1290041f, 0x89000009,
	0x00000222, 0xd800a824, 0x1290841f, 0x89000009, 0x00000111, 0xd800a824,
	0x1291041f, 0x18d0001f, 0x100066b0, 0x81102803, 0xf0000000, 0x17c00c1f,
	0x18c0001f, 0x1000647c, 0x1880001f, 0x00000003, 0xe0c00002, 0x18d0001f,
	0x1000647c, 0xa1540802, 0x71301403, 0xd800a964, 0x17c07c1f, 0xf0000000,
	0x17c07c1f, 0x1a50001f, 0x1000669c, 0x8a400009, 0x0000ffff, 0x18d0001f,
	0x1000661c, 0x88c00003, 0x0000ffff, 0x89000009, 0x0ffffccc, 0xd800ace4,
	0x1291041f, 0x89000009, 0x00000222, 0xd800ace4, 0x1290841f, 0x89000009,
	0x00000111, 0xd800ace4, 0x1290041f, 0x89000003, 0x0ffffccc, 0xd800ae64,
	0x1091041f, 0x89000003, 0x00000222, 0xd800ae64, 0x1090841f, 0x89000003,
	0x00000111, 0xd800ae64, 0x1090041f, 0x42b0080a, 0xa19ba806, 0xf0000000,
	0x17c07c1f, 0x18c0001f, 0x1000647c, 0xe0c0001f, 0x18c0001f, 0x1000645c,
	0xe0c0001f, 0x1900001f, 0x100066a4, 0xe1000009, 0x81f30407, 0x81bb8406,
	0x18c0001f, 0x1000661c, 0x1890001f, 0x1000661c, 0x88800002, 0xffff0000,
	0xa0800809, 0xe0c00002, 0xe100001f, 0x80859801, 0xd820b242, 0x17c07c1f,
	0x1880001f, 0x10006090, 0x10d3841f, 0xe0800003, 0xa1dc0407, 0x1890001f,
	0x10006148, 0x18c0001f, 0x00000100, 0xa0c00803, 0x13000c1f, 0xf0000000,
	0x17c07c1f, 0x18c0001f, 0x1000645c, 0x1880001f, 0x0000001f, 0xe0c00002,
	0x803d0400, 0x803d8400, 0x813f8400, 0x813f0404, 0x1200a81f, 0xa01f2004,
	0x18c0001f, 0x1022a064, 0x1890001f, 0x1022a064, 0xa09e8402, 0xe0c00002,
	0x18c0001f, 0x10232064, 0x1890001f, 0x10232064, 0xa09e8402, 0xe0c00002,
	0xe8208000, 0x10006920, 0x00000012, 0x18c0001f, 0x1000692c, 0xe0e00ff0,
	0xe8208000, 0x10006920, 0x00000011, 0x18c0001f, 0x1000642c, 0xe0c00001,
	0x1890001f, 0x1000642c, 0xd820b762, 0x17c07c1f, 0x1890001f, 0x10006920,
	0x80878801, 0xd820b9e2, 0x17c07c1f, 0x1880001f, 0x10006090, 0xe0a00003,
	0x1910001f, 0x100124f0, 0x1880001f, 0x100065dc, 0xe0800004, 0xe8208000,
	0x10006920, 0x00000010, 0x18c0001f, 0x100066b0, 0xe0c0000a, 0xf0000000,
	0x17c07c1f, 0x814c1801, 0xd800bc25, 0x91bc0406, 0xa01d0400, 0x1b80001f,
	0x20000022, 0xa0158400, 0xa01e0400, 0xd000bcc0, 0x17c07c1f, 0xa01d8400,
	0x1b80001f, 0x20000022, 0xa0158400, 0xa01e8400, 0x808b9801, 0xd820bfe2,
	0x17c07c1f, 0xa0180400, 0x1880001f, 0x10006478, 0x18d0001f, 0x10006478,
	0xa0d10403, 0xa0d50403, 0xe0800003, 0xa0d08403, 0xa0d48403, 0xe0800003,
	0xa0d00403, 0xa0d40403, 0xe0800003, 0x17c07c1f, 0x80380400, 0xa0180400,
	0x808c1801, 0x18c0001f, 0x10228000, 0x00d10803, 0xe0e00004, 0xe8208000,
	0x10006940, 0x00000012, 0x18c0001f, 0x1000694c, 0xe0e00550, 0xe8208000,
	0x10006940, 0x00000011, 0x810f8001, 0xa10f0004, 0xd800cc64, 0x17c07c1f,
	0x1890001f, 0x1022a864, 0x18c0001f, 0x1022a864, 0x88800002, 0xf00fffff,
	0xe0c00002, 0x1890001f, 0x1022c468, 0x18d0001f, 0x1022c468, 0x1910001f,
	0x1022c468, 0x62b01003, 0x70f07c04, 0x80c02803, 0xd820c583, 0x17c07c1f,
	0x18c0001f, 0x1022a8a8, 0xe0c00004, 0x18c0001f, 0x1022a8ac, 0xe0c00004,
	0x18c0001f, 0x102328a8, 0xe0c00004, 0x18c0001f, 0x102328ac, 0xe0c00004,
	0xd000c700, 0x17c07c1f, 0x18c0001f, 0x1022a8a8, 0xe0c00002, 0x18c0001f,
	0x1022a8ac, 0xe0c00002, 0x18c0001f, 0x102328a8, 0xe0c00002, 0x18c0001f,
	0x102328ac, 0xe0c00002, 0x1890001f, 0x1022c460, 0x18d0001f, 0x1022c460,
	0x1910001f, 0x1022c460, 0x62b01003, 0x70f07c04, 0x80c02803, 0xd820ca23,
	0x17c07c1f, 0x18c0001f, 0x1022a8b0, 0xe0c00004, 0x18c0001f, 0x1022a8b4,
	0xe0c00004, 0x18c0001f, 0x102328b0, 0xe0c00004, 0x18c0001f, 0x102328b4,
	0xe0c00004, 0xd000cba0, 0x17c07c1f, 0x18c0001f, 0x1022a8b0, 0xe0c00002,
	0x18c0001f, 0x1022a8b4, 0xe0c00002, 0x18c0001f, 0x102328b0, 0xe0c00002,
	0x18c0001f, 0x102328b4, 0xe0c00002, 0x1890001f, 0x1022a864, 0x18c0001f,
	0x1022a864, 0xa09a0402, 0xe0c00002, 0x1890001f, 0x1022a22c, 0x18c0001f,
	0x1022a22c, 0x80bf8402, 0xe0c00002, 0x1890001f, 0x1023204c, 0x18c0001f,
	0x1023204c, 0x80b10402, 0xe0c00002, 0x1890001f, 0x1000661c, 0x18c0001f,
	0x1000661c, 0x90bf8402, 0xe0c00002, 0x808b9801, 0xd820d0e2, 0x17c07c1f,
	0xa0180400, 0x1880001f, 0x10006478, 0x18d0001f, 0x10006478, 0x80f00403,
	0x80f40403, 0xe0800003, 0x80f08403, 0x80f48403, 0xe0800003, 0x80f10403,
	0x80f50403, 0xe0800003, 0x80380400, 0x1890001f, 0x10006940, 0x80878801,
	0xd820d0e2, 0x17c07c1f, 0xe8208000, 0x10006940, 0x00000010, 0xa1df8407,
	0x1b80001f, 0x20000044, 0x1900001f, 0x00000003, 0xa0180400, 0x803c8400,
	0x18c0001f, 0x10006634, 0x1910001f, 0x10228274, 0xe0c00004, 0x18c0001f,
	0x10006638, 0x1910001f, 0x10230274, 0xe0c00004, 0x18c0001f, 0x1000663c,
	0x1910001f, 0x1022827c, 0xe0c00004, 0x18c0001f, 0x10006630, 0x1910001f,
	0x1023027c, 0xe0c00004, 0x18c0001f, 0x10228274, 0xe0e00000, 0x18c0001f,
	0x10230274, 0xe0e00000, 0x18c0001f, 0x1022827c, 0xe0e00140, 0x18c0001f,
	0x1023027c, 0xe0e00000, 0x18d0001f, 0x1023027c, 0xa0130400, 0x808b9801,
	0xd820dd42, 0x17c07c1f, 0x80811c01, 0xa19b0806, 0x1890001f, 0x10006408,
	0x18c0001f, 0x10006408, 0xa8800002, 0x00600006, 0xe0c00002, 0x1890001f,
	0x1000640c, 0x18c0001f, 0x1000640c, 0xa8800002, 0x001b0000, 0xe0c00002,
	0xa1d10407, 0xe8208000, 0x10006940, 0x00000012, 0x18c0001f, 0x1000694c,
	0xe0e00044, 0xe8208000, 0x10006940, 0x00000011, 0x18d0001f, 0x10006168,
	0x88c00003, 0x00600006, 0x69200003, 0x00600006, 0xd800dd44, 0x17c07c1f,
	0x1890001f, 0x10006940, 0x80878801, 0xd800dca2, 0x17c07c1f, 0xd000dac0,
	0x17c07c1f, 0xa8c00003, 0x00000df5, 0x1880001f, 0x10006028, 0xe0800003,
	0xe8208000, 0x10006940, 0x00000010, 0xa01b0400, 0x808bb401, 0xd820ddc2,
	0x17c07c1f, 0x81ff8407, 0x803b0400, 0x808b9801, 0xd820e122, 0x17c07c1f,
	0x808b1801, 0xd800df42, 0x17c07c1f, 0x81f10407, 0x1890001f, 0x10006408,
	0x18c0001f, 0x10006408, 0x88800002, 0xff9ffff9, 0xe0c00002, 0x1890001f,
	0x1000640c, 0x18c0001f, 0x1000640c, 0x88800002, 0xffe4ffff, 0xe0c00002,
	0x81bb0406, 0x1880001f, 0x10006478, 0x18d0001f, 0x10006478, 0xa0d10403,
	0xa0d50403, 0xe0800003, 0xa0d08403, 0xa0d48403, 0xe0800003, 0xa0d00403,
	0xa0d40403, 0xe0800003, 0x80330400, 0x18d0001f, 0x10006634, 0x1900001f,
	0x10228274, 0xe1000003, 0x18d0001f, 0x10006638, 0x1900001f, 0x10230274,
	0xe1000003, 0x18d0001f, 0x1000663c, 0x1900001f, 0x1022827c, 0xe1000003,
	0x18d0001f, 0x10006630, 0x1900001f, 0x1023027c, 0xe1000003, 0x80cf8001,
	0xa0cf0003, 0xd800e603, 0x17c07c1f, 0xa01c8400, 0x80380400, 0xd800e725,
	0x17c07c1f, 0x803e8400, 0x18c0001f, 0x10228004, 0xe0c0001f, 0xd000e7a0,
	0x17c07c1f, 0x803e0400, 0x18c0001f, 0x10228000, 0xe0c0001f, 0x810f8001,
	0xa10f0004, 0x1890001f, 0x1022a0d0, 0x18c0001f, 0x1022a0d0, 0x1950001f,
	0x102320d0, 0x1a00001f, 0x102320d0, 0xd800eb64, 0x17c07c1f, 0xa09a0402,
	0xe0c00002, 0xa15a0405, 0xe2000005, 0x1890001f, 0x1022a22c, 0x18c0001f,
	0x1022a22c, 0xa09f8402, 0xe0c00002, 0x1890001f, 0x1023204c, 0x18c0001f,
	0x1023204c, 0xa0910402, 0xe0c00002, 0xd000ebe0, 0x17c07c1f, 0x80ba0402,
	0xe0c00002, 0x817a0405, 0xe2000005, 0x1950001f, 0x10006180, 0x81071401,
	0x80359000, 0x18c0001f, 0x1022a064, 0x1890001f, 0x1022a064, 0x80be8402,
	0xe0c00002, 0x18c0001f, 0x10232064, 0x1890001f, 0x10232064, 0x80be8402,
	0xe0c00002, 0x18c0001f, 0x1000642c, 0xe0c00001, 0xf0000000, 0x17c07c1f,
	0xa0180400, 0x1880001f, 0x10006478, 0x18d0001f, 0x10006478, 0xa0d10403,
	0xa0d50403, 0xe0800003, 0xa0d08403, 0xa0d48403, 0xe0800003, 0xa0d00403,
	0xa0d40403, 0xe0800003, 0x17c07c1f, 0x80380400, 0xf0000000, 0x17c07c1f,
	0xa0180400, 0x1880001f, 0x10006478, 0x18d0001f, 0x10006478, 0x80f00403,
	0x80f40403, 0xe0800003, 0x80f08403, 0x80f48403, 0xe0800003, 0x80f10403,
	0x80f50403, 0xe0800003, 0x80380400, 0xf0000000, 0x17c07c1f, 0x1900001f,
	0x10006700, 0xe100000a, 0x1910001f, 0x10006704, 0x81049001, 0xd820f344,
	0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x1890001f, 0x100066b8, 0x89000002,
	0x00000300, 0x62b40404, 0xf0000000, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f, 0x17c07c1f,
	0x17c07c1f, 0x17c07c1f, 0x1840001f, 0x00000001, 0x19c0001f, 0x00015a00,
	0xe8208000, 0x10006408, 0x00000000, 0xe8208000, 0x1000640c, 0x00000000,
	0xa1d48407, 0x1990001f, 0x10006600, 0xa9800006, 0xf8000000, 0x1890001f,
	0x1000661c, 0x808f8801, 0xa19c0806, 0xe8208000, 0x100060b0, 0x00000000,
	0xe8208000, 0x10006604, 0x00000000, 0xe8208000, 0x10006780, 0x00000000,
	0xe8208000, 0x10006608, 0x00000000, 0x18c0001f, 0x1000661c, 0x1910001f,
	0x1000661c, 0x89000004, 0x8000ffff, 0xe0c00004, 0x18c0001f, 0x10006460,
	0x1900001f, 0x00ffffff, 0xe0c00004, 0x18c0001f, 0x10006470, 0x1900001f,
	0x0003ff7f, 0xe0c00004, 0x81550406, 0xd8016a05, 0x17c07c1f, 0x815a8406,
	0xd8210765, 0x17c07c1f, 0xa1908406, 0x81570406, 0xd8010765, 0x17c07c1f,
	0xa1de8407, 0x81fc0407, 0x1b00001f, 0xffffffff, 0xa1dc0407, 0x1b00001f,
	0x00000100, 0xe8208000, 0x10006080, 0x00000100, 0x81439801, 0xd8010a65,
	0x17c07c1f, 0x1b80001f, 0xd00f0000, 0x81fc8407, 0x18c0001f, 0x10006608,
	0xe0c0000c, 0x8a40000c, 0xffffffff, 0xd8016469, 0x17c07c1f, 0xd0010ae0,
	0x17c07c1f, 0x81fc0407, 0x13007c1f, 0x1b80001f, 0xd000aaaa, 0x81fc0407,
	0x13007c1f, 0xe8208000, 0x10006408, 0x187f9321, 0xe8208000, 0x1000640c,
	0x003c0000, 0xc0c07400, 0x17c07c1f, 0x1b80001f, 0xa00002a8, 0x18d0001f,
	0x1000616c, 0x88c00003, 0x003c0000, 0x69200003, 0x003c0000, 0xd8010e44,
	0x17c07c1f, 0xa8c00003, 0xa00000db, 0x1880001f, 0x10006028, 0xe0800003,
	0xd0010c60, 0x17c07c1f, 0xc0c08560, 0x17c07c1f, 0x81401801, 0xd80123e5,
	0x17c07c1f, 0x80c41801, 0xd8010f63, 0x17c07c1f, 0x81f60407, 0x18d0001f,
	0x10006574, 0x19300003, 0x17c07c1f, 0x81318404, 0xe0c00004, 0x81310404,
	0xe0c00004, 0x1b80001f, 0x20000044, 0x81300404, 0xe0c00004, 0xe8208000,
	0x1000640c, 0x0c3cfc00, 0x1b80001f, 0xa00002a8, 0x18d0001f, 0x1000616c,
	0x88c00003, 0x0c3cfc00, 0x69200003, 0x0c3cfc00, 0xd8011364, 0x17c07c1f,
	0xa8c00003, 0xa00000db, 0x1880001f, 0x10006028, 0xe0800003, 0xd0011180,
	0x17c07c1f, 0x18d0001f, 0x10006570, 0x19300003, 0x17c07c1f, 0x81318404,
	0xe0c00004, 0x81310404, 0xe0c00004, 0x1b80001f, 0x20000044, 0x1950001f,
	0x10006610, 0x81011401, 0x81441401, 0x81601005, 0xd8211665, 0x17c07c1f,
	0x1950001f, 0x0c532008, 0x1900001f, 0x0c532008, 0x81600405, 0xa1508405,
	0xe1000005, 0x814a9801, 0xd82117c5, 0x17c07c1f, 0xe8208000, 0x10006408,
	0x187f9321, 0xe8208000, 0x1000640c, 0x0ffcff00, 0xd0011880, 0x17c07c1f,
	0xe8208000, 0x10006408, 0x187f9f21, 0xe8208000, 0x1000640c, 0x0fffff00,
	0x18c0001f, 0x10219400, 0x1910001f, 0x10219400, 0xa1118404, 0xe0c00004,
	0x1b80001f, 0xa00002a8, 0x18d0001f, 0x1000616c, 0x88c00003, 0x0ffcff00,
	0x69200003, 0x0ffcff00, 0xd8011b64, 0x17c07c1f, 0xa8c00003, 0xa00000db,
	0x1880001f, 0x10006028, 0xe0800003, 0xd0011980, 0x17c07c1f, 0x18c0001f,
	0x10219400, 0x1910001f, 0x10219400, 0x81318404, 0xe0c00004, 0x1ac0001f,
	0x10006200, 0x1880001f, 0x0000104d, 0xa0908402, 0xe2c00002, 0xa0928402,
	0xe2c00002, 0x1950001f, 0x10006610, 0x81409401, 0xd8011fa5, 0x17c07c1f,
	0xa0940402, 0xe2c00002, 0x1b80001f, 0xa0000001, 0x1ac0001f, 0x10006200,
	0x1890001f, 0x10006200, 0x1950001f, 0x10006200, 0x810c1401, 0xd8211e04,
	0x17c07c1f, 0xd00121c0, 0x17c07c1f, 0x80b30402, 0xe2c00002, 0x1b80001f,
	0x20000007, 0x80b60402, 0xe2c00002, 0x1b80001f, 0xa0000001, 0x1ac0001f,
	0x10006200, 0x18b0000b, 0x17c07c1f, 0x1970000b, 0x17c07c1f, 0x810e1401,
	0xd8012064, 0x17c07c1f, 0xa0938402, 0xe2c00002, 0x80b00402, 0xe2c00002,
	0xa0920402, 0xe2c00002, 0x80b10402, 0xe2c00002, 0x80b18402, 0xe2c00002,
	0x1b80001f, 0x20000044, 0xe8208000, 0x10006290, 0x00000007, 0xc28081c0,
	0x1296041f, 0x81401801, 0xd8012645, 0x17c07c1f, 0x81fc0407, 0x1b00001f,
	0xffffffff, 0xa1dc0407, 0x18c0001f, 0x10006608, 0x1b80001f, 0x30000004,
	0x81fc8407, 0xe0c0000c, 0x1b00001f, 0x00000000, 0x8a40000c, 0xffffffff,
	0xd8014e09, 0x17c07c1f, 0xa1dc0407, 0x1b00001f, 0x00000100, 0xa1dc0407,
	0x1b00001f, 0x00000100, 0x1b80001f, 0xa0000001, 0x81481801, 0xd8012885,
	0x17c07c1f, 0x18c0001f, 0x10006350, 0xe0e00ff3, 0xe0e00ff1, 0x1b80001f,
	0x20000001, 0xe0e00001, 0x81449801, 0xd80130c5, 0x17c07c1f, 0x1950001f,
	0x10006610, 0x81011401, 0x81441401, 0xd8212d05, 0x17c07c1f, 0x1a00001f,
	0x10006700, 0xd8012a84, 0x17c07c1f, 0xe220000a, 0xd0012aa0, 0x17c07c1f,
	0xe2200004, 0xc0c082c0, 0x17c07c1f, 0x1b80001f, 0xa0000001, 0x1950001f,
	0x10006610, 0x81011401, 0x1a00001f, 0x10006700, 0xd8212c64, 0x17c07c1f,
	0xe2200016, 0xd0012c80, 0x17c07c1f, 0xe220000e, 0xc0c082c0, 0x17c07c1f,
	0x1b80001f, 0xa0000001, 0x1950001f, 0x10006610, 0x81011401, 0x1a00001f,
	0x10006700, 0xd8012e44, 0x17c07c1f, 0xe2200008, 0xd0012e60, 0x17c07c1f,
	0xe2200002, 0xc0c082c0, 0x17c07c1f, 0x1b80001f, 0xa0000001, 0x1950001f,
	0x10006610, 0x81011401, 0x1a00001f, 0x10006700, 0xd8213024, 0x17c07c1f,
	0xe2200014, 0xd0013040, 0x17c07c1f, 0xe220000c, 0xc0c082c0, 0x17c07c1f,
	0x1b80001f, 0xa0000001, 0xc0c17460, 0x17c07c1f, 0x1b80001f, 0xa0000001,
	0x1910001f, 0x10006170, 0x80c59001, 0xc28081c0, 0x12998c1f, 0x81089801,
	0xb129a881, 0xd8013384, 0x17c07c1f, 0x18c0001f, 0x10006358, 0xe0e00013,
	0xe0e00011, 0x1b80001f, 0x20000001, 0xe0e00001, 0xc28081c0, 0x129a041f,
	0x1b80001f, 0xa0000001, 0xc0c0a8c0, 0x17c07c1f, 0x1b80001f, 0xa0000001,
	0x81fc0407, 0x1b00001f, 0xffffffff, 0x1a40001f, 0x00002d7f, 0x81fc0407,
	0x1b00001f, 0xffffffff, 0x18c0001f, 0x00002120, 0x814a9801, 0xd8213905,
	0x17c07c1f, 0x1a40001f, 0x00000000, 0x18c0001f, 0x00000000, 0x81469801,
	0xd8013905, 0x17c07c1f, 0x1a40001f, 0x00002140, 0x18c0001f, 0x00002100,
	0x81461801, 0xd8013905, 0x17c07c1f, 0x1a40001f, 0x00002d70, 0x18c0001f,
	0x00002120, 0x81471801, 0xd8213905, 0x17c07c1f, 0x1a40001f, 0x00002d7f,
	0x18c0001f, 0x00002120, 0x1900001f, 0x10006080, 0xe1000009, 0xa1dc0407,
	0x13000c1f, 0xa1dc0407, 0x1b80001f, 0x90100000, 0x80cd9801, 0xc8e00003,
	0x17c07c1f, 0x80ce1801, 0xc8e01803, 0x17c07c1f, 0x80cf1801, 0xc8e04ec3,
	0x17c07c1f, 0x80cf9801, 0xc8e05523, 0x17c07c1f, 0x80ce9801, 0xc8e01e83,
	0x17c07c1f, 0x18d0001f, 0x10006160, 0x80c40c01, 0xc8c035e3, 0x17c07c1f,
	0x81fc8407, 0x18c0001f, 0x10006608, 0xe0c0000c, 0xe8208000, 0x100060b0,
	0x00000000, 0xc0c084c0, 0x17c07c1f, 0xa1dc0407, 0x1b00001f, 0x00000100,
	0x81fc0407, 0x13007c1f, 0xe8208000, 0x10006080, 0x00000100, 0x1b80001f,
	0xa0000001, 0x81481801, 0xd8014105, 0x17c07c1f, 0x18c0001f, 0x10006350,
	0xe0e00011, 0xe0e00031, 0xe0e00071, 0xe0e000f1, 0xe0e001f1, 0xe0e003f1,
	0xe0e007f1, 0xe0e00ff1, 0x1b80001f, 0x20000052, 0xe0e00ff3, 0xe0e00ff2,
	0x81489801, 0x1a90001f, 0x10006604, 0x812a2801, 0xa0c01005, 0xd80142c3,
	0x17c07c1f, 0x18c0001f, 0x10006358, 0xe0e00011, 0x1b80001f, 0x20000052,
	0xe0e00013, 0xe0e00012, 0x1b80001f, 0xa0000001, 0x18c0001f, 0x100062bc,
	0xe0e071ff, 0x1b80001f, 0xa00007f8, 0x18c0001f, 0x100062bc, 0xe0e001ff,
	0x1b80001f, 0xa00007f8, 0x18c0001f, 0x100062bc, 0xe0e0003f, 0x1b80001f,
	0xa00002a8, 0x18c0001f, 0x100062bc, 0xe0e00007, 0xe0e00000, 0x1b80001f,
	0xa0000001, 0x81449801, 0xd8014e05, 0x17c07c1f, 0x1950001f, 0x10006610,
	0x81011401, 0x81449401, 0xd82149e5, 0x17c07c1f, 0x1a00001f, 0x10006700,
	0xd82147a4, 0x17c07c1f, 0xe2200017, 0xd00147c0, 0x17c07c1f, 0xe220000f,
	0xc0c082c0, 0x17c07c1f, 0x1b80001f, 0xa0000001, 0x1950001f, 0x10006610,
	0x81011401, 0x1a00001f, 0x10006700, 0xd8014984, 0x17c07c1f, 0xe220000b,
	0xd00149a0, 0x17c07c1f, 0xe2200005, 0xc0c082c0, 0x17c07c1f, 0x1a00001f,
	0x10006700, 0xd8214ac4, 0x17c07c1f, 0xe2200015, 0xd0014ae0, 0x17c07c1f,
	0xe220000d, 0xc0c082c0, 0x17c07c1f, 0x1b80001f, 0xa0000001, 0x1950001f,
	0x10006610, 0x81011401, 0x1a00001f, 0x10006700, 0xd8014d24, 0x17c07c1f,
	0xe2200009, 0xc0c082c0, 0x17c07c1f, 0x1b80001f, 0xa0003fc0, 0xd0014e00,
	0x17c07c1f, 0xe2200003, 0xc0c082c0, 0x17c07c1f, 0x1b80001f, 0xa0001078,
	0x1b80001f, 0xa0001078, 0x81401801, 0xd8016425, 0x17c07c1f, 0x18c0001f,
	0x10006290, 0xe0e00003, 0x1ac0001f, 0x10006200, 0x1890001f, 0x10006200,
	0xa0910402, 0xe2c00002, 0xa0918402, 0xe2c00002, 0x1b80001f, 0x20000044,
	0x1b80001f, 0xa0000001, 0x1ac0001f, 0x10006200, 0x1890001f, 0x10006200,
	0x1950001f, 0x10006180, 0x81071401, 0x1950001f, 0x10006184, 0x81471401,
	0x81001404, 0xd8215004, 0x17c07c1f, 0x80b08402, 0xe2c00002, 0x80b38402,
	0xe2c00002, 0x1950001f, 0x10006610, 0x81409401, 0xd80154e5, 0x17c07c1f,
	0x80b40402, 0xe2c00002, 0x1b80001f, 0xa0000001, 0x1ac0001f, 0x10006200,
	0x1890001f, 0x10006200, 0x1950001f, 0x10006200, 0x810c1401, 0xd8015344,
	0x17c07c1f, 0xd0015780, 0x17c07c1f, 0x1ac0001f, 0x10006200, 0x1890001f,
	0x10006200, 0xa0960402, 0xe2c00002, 0x1b80001f, 0xa0000001, 0x1ac0001f,
	0x10006200, 0x1890001f, 0x10006200, 0x1970000b, 0x17c07c1f, 0x810e1401,
	0xd82155a4, 0x17c07c1f, 0x1b80001f, 0x20000044, 0xa0930402, 0xe2c00002,
	0x80b28402, 0xe2c00002, 0x1b80001f, 0x20000044, 0x80b20402, 0xe2c00002,
	0xa0900402, 0xe2c00002, 0xe8208000, 0x10006408, 0x187f9321, 0xe8208000,
	0x1000640c, 0x0c3cfc00, 0x1b80001f, 0xa00002a8, 0x18d0001f, 0x10006570,
	0x69200003, 0x10006204, 0x18c0001f, 0x10006290, 0xd8215ac4, 0x17c07c1f,
	0xd8015f44, 0xe0e00002, 0xe0e00000, 0x1950001f, 0x10006610, 0x81011401,
	0x81449401, 0x81601005, 0xd8215f45, 0x17c07c1f, 0x1950001f, 0x0c532008,
	0x1900001f, 0x0c532008, 0xa1400405, 0x81708405, 0xe1000005, 0x18c0001f,
	0x0c532208, 0x1910001f, 0x0c532208, 0xa9000004, 0x000f0000, 0xe0c00004,
	0x1910001f, 0x100065f8, 0x18c0001f, 0x0c532290, 0xe0c00004, 0x18c0001f,
	0x0c532298, 0xe0c00004, 0x18c0001f, 0x0c5322c0, 0xe0c00004, 0x18c0001f,
	0x0c5322c8, 0xe0c00004, 0x18d0001f, 0x10006570, 0x19300003, 0x17c07c1f,
	0xa1110404, 0xe0c00004, 0x1b80001f, 0x20000044, 0xe8208000, 0x10006408,
	0x187f9321, 0xe8208000, 0x1000640c, 0x003c0000, 0x1b80001f, 0xa00002a8,
	0x18d0001f, 0x10006570, 0x69200003, 0x10006218, 0xd82162e4, 0x17c07c1f,
	0x18c0001f, 0x0c532728, 0x1910001f, 0x0c532728, 0xa1108404, 0x81340404,
	0xe0c00004, 0x18d0001f, 0x10006574, 0x19300003, 0x17c07c1f, 0xa1100404,
	0xe0c00004, 0xa1110404, 0xe0c00004, 0x1b80001f, 0x20000044, 0xc0c085c0,
	0x17c07c1f, 0x814a9801, 0xb14a18a1, 0xd8016545, 0x17c07c1f, 0xe8208000,
	0x10006034, 0x000f0000, 0x81f48407, 0xa1d60407, 0x81f10407, 0xe8208000,
	0x10006408, 0x00000000, 0xe8208000, 0x1000640c, 0x00000000, 0xa1db0407,
	0x18c0001f, 0x1000641c, 0x1910001f, 0x10006164, 0xe0c00004, 0x18c0001f,
	0x10006420, 0x1910001f, 0x10006150, 0xe0c00004, 0x18c0001f, 0x10006424,
	0x1910001f, 0x1000614c, 0xe0c00004, 0x1b80001f, 0xa0000001, 0xa1dc0407,
	0x1b00001f, 0x00000000, 0x1ac0001f, 0x55aa55aa, 0xe8208000, 0x10006090,
	0x00000001, 0x81429801, 0xd8017425, 0x17c07c1f, 0x81f20407, 0x81f28407,
	0xa19f8406, 0x1890001f, 0x1000661c, 0x808f8801, 0xa19c0806, 0xc28081c0,
	0x1298041f, 0xe8208000, 0x10006080, 0x00000100, 0x18c0001f, 0x1000601c,
	0x1910001f, 0x1000601c, 0xa9000004, 0x0b160000, 0x81328404, 0xe0c00004,
	0x81fc0407, 0x1b00001f, 0x00000001, 0xa1dc0407, 0x1b00001f, 0x00000100,
	0x1950001f, 0x10006610, 0x81431401, 0xd8016ee5, 0x17c07c1f, 0xa1de0407,
	0xe8208000, 0x10006080, 0x00002140, 0x18d0001f, 0x10006080, 0x1b00001f,
	0x00002100, 0x1b80001f, 0x90100000, 0x1890001f, 0x100060b0, 0xd8017142,
	0x17c07c1f, 0x1890001f, 0x10006164, 0x1900001f, 0x00000007, 0x80c90804,
	0x1880001f, 0x1000661c, 0x1910001f, 0x1000661c, 0xa11e0c04, 0xe0800004,
	0xd0016c80, 0x17c07c1f, 0x1950001f, 0x10006610, 0x81431401, 0xd80172a5,
	0x17c07c1f, 0x81fe0407, 0x80cf9801, 0xc8e05523, 0x17c07c1f, 0x1b80001f,
	0xa0000001, 0x1ac0001f, 0x77887788, 0x1950001f, 0x10006610, 0x81439401,
	0xd8017425, 0x17c07c1f, 0xa0108400, 0x81fc0407, 0x80308400, 0xd0010040,
	0x17c07c1f, 0xf0000000, 0x17c07c1f, 0x18c0001f, 0x100062bc, 0xe0e00007,
	0xe0e0003f, 0xe0e001ff, 0xe0e071ff, 0xe0e07fff, 0xf0000000, 0x17c07c1f
};

static const struct pcm_desc allinone_lp4_3200_pcm = {
	.version	= "pcm_allinone_v1.17.2_20180829",
	.base		= allinone_lp4_3200_binary,
	.size		= 2988,
	.sess		= 2,
	.replace	= 0,
	.addr_2nd	= 0,
	.vec0		= EVENT_VEC(32, 1, 0, 0),
	.vec1		= EVENT_VEC(33, 1, 0, 89),
	.vec2		= EVENT_VEC(34, 1, 0, 192),
	.vec3		= EVENT_VEC(35, 1, 0, 219),
	.vec4		= EVENT_VEC(36, 1, 0, 244),
	.vec5		= EVENT_VEC(37, 1, 0, 313),
	.vec6		= EVENT_VEC(44, 1, 0, 681),
	.vec8		= EVENT_VEC(40, 1, 0, 431),
	.vec10		= EVENT_VEC(38, 1, 0, 630),
	.vec11		= EVENT_VEC(39, 1, 0, 657),
	.vec13		= EVENT_VEC(45, 1, 0, 692),
};

const char *spm_get_firmware_version(void)
{
	return allinone_lp4_3200_pcm.version;
}

void spm_lock_get(void)
{
	bakery_lock_get(&spm_lock);
}

void spm_lock_release(void)
{
	bakery_lock_release(&spm_lock);
}

void spm_set_bootaddr(unsigned long bootaddr)
{
	/* initialize core4~7 boot entry address */
	mmio_write_32(SW2SPM_MAILBOX_3, bootaddr);
}

void spm_set_cpu_status(int cpu)
{
	if (cpu >= 0 && cpu < 4) {
		mmio_write_32(ROOT_CPUTOP_ADDR, 0x10006204);
		mmio_write_32(ROOT_CORE_ADDR, 0x10006208 + (cpu * 0x4));
	} else if (cpu >= 4 && cpu < 8) {
		mmio_write_32(ROOT_CPUTOP_ADDR, 0x10006218);
		mmio_write_32(ROOT_CORE_ADDR, 0x1000621c + ((cpu - 4) * 0x4));
	} else {
		ERROR("%s: error cpu number %d\n", __func__, cpu);
	}
}

void spm_set_power_control(const struct pwr_ctrl *pwrctrl)
{
	mmio_write_32(SPM_AP_STANDBY_CON,
		      ((pwrctrl->wfi_op & 0x1) << 0) |
		      ((pwrctrl->mp0_cputop_idle_mask & 0x1) << 1) |
		      ((pwrctrl->mp1_cputop_idle_mask & 0x1) << 2) |
		      ((pwrctrl->mcusys_idle_mask & 0x1) << 4) |
		      ((pwrctrl->mm_mask_b & 0x3) << 16) |
		      ((pwrctrl->md_ddr_en_0_dbc_en & 0x1) << 18) |
		      ((pwrctrl->md_ddr_en_1_dbc_en & 0x1) << 19) |
		      ((pwrctrl->md_mask_b & 0x3) << 20) |
		      ((pwrctrl->sspm_mask_b & 0x1) << 22) |
		      ((pwrctrl->scp_mask_b & 0x1) << 23) |
		      ((pwrctrl->srcclkeni_mask_b & 0x1) << 24) |
		      ((pwrctrl->md_apsrc_1_sel & 0x1) << 25) |
		      ((pwrctrl->md_apsrc_0_sel & 0x1) << 26) |
		      ((pwrctrl->conn_ddr_en_dbc_en & 0x1) << 27) |
		      ((pwrctrl->conn_mask_b & 0x1) << 28) |
		      ((pwrctrl->conn_apsrc_sel & 0x1) << 29));

	mmio_write_32(SPM_SRC_REQ,
		      ((pwrctrl->spm_apsrc_req & 0x1) << 0) |
		      ((pwrctrl->spm_f26m_req & 0x1) << 1) |
		      ((pwrctrl->spm_infra_req & 0x1) << 3) |
		      ((pwrctrl->spm_vrf18_req & 0x1) << 4) |
		      ((pwrctrl->spm_ddren_req & 0x1) << 7) |
		      ((pwrctrl->spm_rsv_src_req & 0x7) << 8) |
		      ((pwrctrl->spm_ddren_2_req & 0x1) << 11) |
		      ((pwrctrl->cpu_md_dvfs_sop_force_on & 0x1) << 16));

	mmio_write_32(SPM_SRC_MASK,
		      ((pwrctrl->csyspwreq_mask & 0x1) << 0) |
		      ((pwrctrl->ccif0_md_event_mask_b & 0x1) << 1) |
		      ((pwrctrl->ccif0_ap_event_mask_b & 0x1) << 2) |
		      ((pwrctrl->ccif1_md_event_mask_b & 0x1) << 3) |
		      ((pwrctrl->ccif1_ap_event_mask_b & 0x1) << 4) |
		      ((pwrctrl->ccif2_md_event_mask_b & 0x1) << 5) |
		      ((pwrctrl->ccif2_ap_event_mask_b & 0x1) << 6) |
		      ((pwrctrl->ccif3_md_event_mask_b & 0x1) << 7) |
		      ((pwrctrl->ccif3_ap_event_mask_b & 0x1) << 8) |
		      ((pwrctrl->md_srcclkena_0_infra_mask_b & 0x1) << 9) |
		      ((pwrctrl->md_srcclkena_1_infra_mask_b & 0x1) << 10) |
		      ((pwrctrl->conn_srcclkena_infra_mask_b & 0x1) << 11) |
		      ((pwrctrl->ufs_infra_req_mask_b & 0x1) << 12) |
		      ((pwrctrl->srcclkeni_infra_mask_b & 0x1) << 13) |
		      ((pwrctrl->md_apsrc_req_0_infra_mask_b & 0x1) << 14) |
		      ((pwrctrl->md_apsrc_req_1_infra_mask_b & 0x1) << 15) |
		      ((pwrctrl->conn_apsrcreq_infra_mask_b & 0x1) << 16) |
		      ((pwrctrl->ufs_srcclkena_mask_b & 0x1) << 17) |
		      ((pwrctrl->md_vrf18_req_0_mask_b & 0x1) << 18) |
		      ((pwrctrl->md_vrf18_req_1_mask_b & 0x1) << 19) |
		      ((pwrctrl->ufs_vrf18_req_mask_b & 0x1) << 20) |
		      ((pwrctrl->gce_vrf18_req_mask_b & 0x1) << 21) |
		      ((pwrctrl->conn_infra_req_mask_b & 0x1) << 22) |
		      ((pwrctrl->gce_apsrc_req_mask_b & 0x1) << 23) |
		      ((pwrctrl->disp0_apsrc_req_mask_b & 0x1) << 24) |
		      ((pwrctrl->disp1_apsrc_req_mask_b & 0x1) << 25) |
		      ((pwrctrl->mfg_req_mask_b & 0x1) << 26) |
		      ((pwrctrl->vdec_req_mask_b & 0x1) << 27));

	mmio_write_32(SPM_SRC2_MASK,
		      ((pwrctrl->md_ddr_en_0_mask_b & 0x1) << 0) |
		      ((pwrctrl->md_ddr_en_1_mask_b & 0x1) << 1) |
		      ((pwrctrl->conn_ddr_en_mask_b & 0x1) << 2) |
		      ((pwrctrl->ddren_sspm_apsrc_req_mask_b & 0x1) << 3) |
		      ((pwrctrl->ddren_scp_apsrc_req_mask_b & 0x1) << 4) |
		      ((pwrctrl->disp0_ddren_mask_b & 0x1) << 5) |
		      ((pwrctrl->disp1_ddren_mask_b & 0x1) << 6) |
		      ((pwrctrl->gce_ddren_mask_b & 0x1) << 7) |
		      ((pwrctrl->ddren_emi_self_refresh_ch0_mask_b & 0x1)
		       << 8) |
		      ((pwrctrl->ddren_emi_self_refresh_ch1_mask_b & 0x1)
		       << 9));

	mmio_write_32(SPM_WAKEUP_EVENT_MASK,
		      ((pwrctrl->spm_wakeup_event_mask & 0xffffffff) << 0));

	mmio_write_32(SPM_WAKEUP_EVENT_EXT_MASK,
		      ((pwrctrl->spm_wakeup_event_ext_mask & 0xffffffff)
		       << 0));

	mmio_write_32(SPM_SRC3_MASK,
		      ((pwrctrl->md_ddr_en_2_0_mask_b & 0x1) << 0) |
		      ((pwrctrl->md_ddr_en_2_1_mask_b & 0x1) << 1) |
		      ((pwrctrl->conn_ddr_en_2_mask_b & 0x1) << 2) |
		      ((pwrctrl->ddren2_sspm_apsrc_req_mask_b & 0x1) << 3) |
		      ((pwrctrl->ddren2_scp_apsrc_req_mask_b & 0x1) << 4) |
		      ((pwrctrl->disp0_ddren2_mask_b & 0x1) << 5) |
		      ((pwrctrl->disp1_ddren2_mask_b & 0x1) << 6) |
		      ((pwrctrl->gce_ddren2_mask_b & 0x1) << 7) |
		      ((pwrctrl->ddren2_emi_self_refresh_ch0_mask_b & 0x1)
		       << 8) |
		      ((pwrctrl->ddren2_emi_self_refresh_ch1_mask_b & 0x1)
		       << 9));

	mmio_write_32(MP0_CPU0_WFI_EN,
		      ((pwrctrl->mp0_cpu0_wfi_en & 0x1) << 0));
	mmio_write_32(MP0_CPU1_WFI_EN,
		      ((pwrctrl->mp0_cpu1_wfi_en & 0x1) << 0));
	mmio_write_32(MP0_CPU2_WFI_EN,
		      ((pwrctrl->mp0_cpu2_wfi_en & 0x1) << 0));
	mmio_write_32(MP0_CPU3_WFI_EN,
		      ((pwrctrl->mp0_cpu3_wfi_en & 0x1) << 0));

	mmio_write_32(MP1_CPU0_WFI_EN,
		      ((pwrctrl->mp1_cpu0_wfi_en & 0x1) << 0));
	mmio_write_32(MP1_CPU1_WFI_EN,
		      ((pwrctrl->mp1_cpu1_wfi_en & 0x1) << 0));
	mmio_write_32(MP1_CPU2_WFI_EN,
		      ((pwrctrl->mp1_cpu2_wfi_en & 0x1) << 0));
	mmio_write_32(MP1_CPU3_WFI_EN,
		      ((pwrctrl->mp1_cpu3_wfi_en & 0x1) << 0));
}

void spm_disable_pcm_timer(void)
{
	uint32_t con1;

	con1 = (mmio_read_32(PCM_CON1) | SPM_REGWR_CFG_KEY);
	con1 &= ~PCM_TIMER_EN_LSB;
	mmio_write_32(PCM_CON1, con1);
}

void spm_set_wakeup_event(const struct pwr_ctrl *pwrctrl)
{
	uint32_t val, mask, isr;

	val = pwrctrl->timer_val ? pwrctrl->timer_val : PCM_TIMER_MAX;
	mmio_write_32(PCM_TIMER_VAL, val);
	mmio_write_32(PCM_CON1, mmio_read_32(PCM_CON1) |
		      SPM_REGWR_CFG_KEY | PCM_TIMER_EN_LSB);

	mask = pwrctrl->wake_src;

	if (pwrctrl->csyspwreq_mask)
		mask &= ~WAKE_SRC_R12_CSYSPWREQ_B;

	mmio_write_32(SPM_WAKEUP_EVENT_MASK, ~mask);

	isr = mmio_read_32(SPM_IRQ_MASK) & SPM_TWAM_IRQ_MASK_LSB;
	mmio_write_32(SPM_IRQ_MASK, isr | ISRM_RET_IRQ_AUX);
}

void spm_set_pcm_flags(const struct pwr_ctrl *pwrctrl)
{
	mmio_write_32(SPM_SW_FLAG, pwrctrl->pcm_flags);
	mmio_write_32(SPM_SW_RSV_2, pwrctrl->pcm_flags1);
}

void spm_set_pcm_wdt(int en)
{
	uint32_t con1;

	if (en) {
		con1 = mmio_read_32(PCM_CON1) & ~(PCM_WDT_WAKE_MODE_LSB);
		mmio_write_32(PCM_CON1, SPM_REGWR_CFG_KEY | con1);

		if (mmio_read_32(PCM_TIMER_VAL) > PCM_TIMER_MAX)
			mmio_write_32(PCM_TIMER_VAL, PCM_TIMER_MAX);
		mmio_write_32(PCM_WDT_VAL,
			      mmio_read_32(PCM_TIMER_VAL) + PCM_WDT_TIMEOUT);
		mmio_write_32(PCM_CON1,
			      con1 | SPM_REGWR_CFG_KEY | PCM_WDT_EN_LSB);
	} else {
		mmio_write_32(PCM_CON1, SPM_REGWR_CFG_KEY |
			      (mmio_read_32(PCM_CON1) & ~PCM_WDT_EN_LSB));
	}
}

void spm_send_cpu_wakeup_event(void)
{
	mmio_write_32(PCM_REG_DATA_INI, 0);
	mmio_write_32(SPM_CPU_WAKEUP_EVENT, 1);
}

void spm_get_wakeup_status(struct wake_status *wakesta)
{
	wakesta->assert_pc = mmio_read_32(PCM_REG_DATA_INI);
	wakesta->r12 = mmio_read_32(SPM_SW_RSV_0);
	wakesta->r12_ext = mmio_read_32(PCM_REG12_EXT_DATA);
	wakesta->raw_sta = mmio_read_32(SPM_WAKEUP_STA);
	wakesta->raw_ext_sta = mmio_read_32(SPM_WAKEUP_EXT_STA);
	wakesta->wake_misc = mmio_read_32(SPM_BSI_D0_SR);
	wakesta->timer_out = mmio_read_32(SPM_BSI_D1_SR);
	wakesta->r13 = mmio_read_32(PCM_REG13_DATA);
	wakesta->idle_sta = mmio_read_32(SUBSYS_IDLE_STA);
	wakesta->req_sta = mmio_read_32(SRC_REQ_STA);
	wakesta->sw_flag = mmio_read_32(SPM_SW_FLAG);
	wakesta->sw_flag1 = mmio_read_32(SPM_SW_RSV_2);
	wakesta->r15 = mmio_read_32(PCM_REG15_DATA);
	wakesta->debug_flag = mmio_read_32(SPM_SW_DEBUG);
	wakesta->debug_flag1 = mmio_read_32(WDT_LATCH_SPARE0_FIX);
	wakesta->event_reg = mmio_read_32(SPM_BSI_D2_SR);
	wakesta->isr = mmio_read_32(SPM_IRQ_STA);
}

void spm_clean_after_wakeup(void)
{
	mmio_write_32(SPM_SW_RSV_0,
		      mmio_read_32(SPM_WAKEUP_STA) |
		      mmio_read_32(SPM_SW_RSV_0));
	mmio_write_32(SPM_CPU_WAKEUP_EVENT, 0);
	mmio_write_32(SPM_WAKEUP_EVENT_MASK, ~0);
	mmio_write_32(SPM_IRQ_MASK,
		      mmio_read_32(SPM_IRQ_MASK) | ISRM_ALL_EXC_TWAM);
	mmio_write_32(SPM_IRQ_STA, ISRC_ALL_EXC_TWAM);
	mmio_write_32(SPM_SWINT_CLR, PCM_SW_INT_ALL);
}

void spm_output_wake_reason(struct wake_status *wakesta, const char *scenario)
{
	uint32_t i;

	if (wakesta->assert_pc != 0) {
		INFO("%s: PCM ASSERT AT %u, ULPOSC_CON = 0x%x\n",
		     scenario, wakesta->assert_pc, mmio_read_32(ULPOSC_CON));
		goto spm_debug_flags;
	}

	for (i = 0; i <= 31; i++) {
		if (wakesta->r12 & (1U << i)) {
			INFO("%s: wake up by %s, timer_out = %u\n",
			     scenario, wakeup_src_str[i], wakesta->timer_out);
			break;
		}
	}

spm_debug_flags:
	INFO("r15 = 0x%x, r13 = 0x%x, debug_flag = 0x%x 0x%x\n",
	     wakesta->r15, wakesta->r13, wakesta->debug_flag,
	     wakesta->debug_flag1);
	INFO("sw_flag = 0x%x 0x%x, r12 = 0x%x, r12_ext = 0x%x\n",
	     wakesta->sw_flag, wakesta->sw_flag1, wakesta->r12,
	     wakesta->r12_ext);
	INFO("idle_sta = 0x%x, req_sta =  0x%x, event_reg = 0x%x\n",
	     wakesta->idle_sta, wakesta->req_sta, wakesta->event_reg);
	INFO("isr = 0x%x, raw_sta = 0x%x, raw_ext_sta = 0x%x\n",
	     wakesta->isr, wakesta->raw_sta, wakesta->raw_ext_sta);
	INFO("wake_misc = 0x%x\n", wakesta->wake_misc);
}

static void spm_code_swapping(void)
{
	uint32_t con1, retry = 0, timeout = 5000;

	con1 = mmio_read_32(SPM_WAKEUP_EVENT_MASK);

	mmio_write_32(SPM_WAKEUP_EVENT_MASK, (con1 & ~(0x1)));
	mmio_write_32(SPM_CPU_WAKEUP_EVENT, 1);

	while ((mmio_read_32(SPM_IRQ_STA) & PCM_IRQ_ROOT_MASK_LSB) == 0) {
		if (retry > timeout) {
			ERROR("r15: 0x%x, pcmsta: 0x%x, irqsta: 0x%x [%d]\n",
			      mmio_read_32(PCM_REG15_DATA),
			      mmio_read_32(PCM_FSM_STA),
			      mmio_read_32(SPM_IRQ_STA), timeout);
		}
		udelay(1);
		retry++;
	}

	mmio_write_32(SPM_CPU_WAKEUP_EVENT, 0);
	mmio_write_32(SPM_WAKEUP_EVENT_MASK, con1);
}

void spm_register_init(void)
{
	mmio_write_32(POWERON_CONFIG_EN, SPM_REGWR_CFG_KEY | BCLK_CG_EN_LSB |
		      MD_BCLK_CG_EN_LSB);

	mmio_write_32(SPM_POWER_ON_VAL1, POWER_ON_VAL1_DEF);
	mmio_write_32(PCM_PWR_IO_EN, 0);

	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB |
		      PCM_SW_RESET_LSB);
	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB);
	if ((mmio_read_32(PCM_FSM_STA) & 0x7fffff) != PCM_FSM_STA_DEF)
		ERROR("PCM reset failed\n");

	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB |
		      EN_IM_SLEEP_DVS_LSB);
	mmio_write_32(PCM_CON1, SPM_REGWR_CFG_KEY | EVENT_LOCK_EN_LSB |
		      SPM_SRAM_ISOINT_B_LSB | MIF_APBEN_LSB |
		      SCP_APB_INTERNAL_EN_LSB);
	mmio_write_32(PCM_IM_PTR, 0);
	mmio_write_32(PCM_IM_LEN, 0);

	mmio_write_32(SPM_CLK_CON, mmio_read_32(SPM_CLK_CON) | (0x3 << 2) |
		      SPM_LOCK_INFRA_DCM_LSB | (1 << 6) |
		      CXO32K_REMOVE_EN_MD1_LSB |
		      CLKSQ1_SEL_CTRL_LSB | SRCLKEN0_EN_LSB |
		      (0x10 << 23));

	mmio_write_32(SPM_WAKEUP_EVENT_MASK, SPM_WAKEUP_EVENT_MASK_DEF);

	mmio_write_32(SPM_IRQ_MASK, ISRM_ALL);
	mmio_write_32(SPM_IRQ_STA, ISRC_ALL);
	mmio_write_32(SPM_SWINT_CLR, PCM_SW_INT_ALL);

	mmio_write_32(PCM_REG_DATA_INI, mmio_read_32(SPM_POWER_ON_VAL1));
	mmio_write_32(PCM_PWR_IO_EN, PCM_RF_SYNC_R7);
	mmio_write_32(PCM_PWR_IO_EN, 0);

	mmio_write_32(DDR_EN_DBC_LEN, 0x154 | (0x154 << 10) | (0x154 << 20));
	mmio_write_32(SPARE_ACK_MASK,
		      (mmio_read_32(SPARE_ACK_MASK) & ~(0x1 << 1)) | 0x1);
	mmio_write_32(SYSROM_CON, 0x3f);
	mmio_write_32(SPM_PC_TRACE_CON, 0x8 | SPM_PC_TRACE_HW_EN_LSB);

	mmio_write_32(SPARE_SRC_REQ_MASK, mmio_read_32(SPARE_SRC_REQ_MASK) |
		      SPARE1_DDREN_MASK_B_LSB);
}

void spm_reset_and_init_pcm(const struct pcm_desc *pcmdesc)
{
	uint32_t con1;

	if ((mmio_read_32(PCM_REG1_DATA) == 0x1) &&
	    !(mmio_read_32(PCM_REG15_DATA) == 0x0)) {
		spm_code_swapping();
		mmio_write_32(SPM_POWER_ON_VAL0, mmio_read_32(PCM_REG0_DATA));
	}

	mmio_write_32(PCM_PWR_IO_EN, 0);

	mmio_write_32(PCM_CON1, SPM_REGWR_CFG_KEY |
		      (mmio_read_32(PCM_CON1) & ~PCM_TIMER_EN_LSB));

	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB |
		      PCM_SW_RESET_LSB);
	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB);
	if ((mmio_read_32(PCM_FSM_STA) & 0x7fffff) != PCM_FSM_STA_DEF)
		ERROR("reset pcm(PCM_FSM_STA=0x%x)\n",
		      mmio_read_32(PCM_FSM_STA));

	mmio_write_32(PCM_CON0, SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB |
		      EN_IM_SLEEP_DVS_LSB);

	con1 = mmio_read_32(PCM_CON1) & (PCM_WDT_WAKE_MODE_LSB);
	mmio_write_32(PCM_CON1, con1 | SPM_REGWR_CFG_KEY | EVENT_LOCK_EN_LSB |
		      SPM_SRAM_ISOINT_B_LSB |
		      (pcmdesc->replace ? 0 : IM_NONRP_EN_LSB) |
		      MIF_APBEN_LSB | SCP_APB_INTERNAL_EN_LSB);
}

void spm_kick_im_to_fetch(const struct pcm_desc *pcmdesc)
{
	uint32_t ptr, len, con0;

	/* tell IM where is PCM code (use slave mode if code existed) */
	ptr = (unsigned int)(unsigned long)(pcmdesc->base);
	len = pcmdesc->size - 1;
	if (mmio_read_32(PCM_IM_PTR) != ptr ||
	    mmio_read_32(PCM_IM_LEN) != len || pcmdesc->sess > 2) {
		mmio_write_32(PCM_IM_PTR, ptr);
		mmio_write_32(PCM_IM_LEN, len);
	} else {
		mmio_write_32(PCM_CON1, mmio_read_32(PCM_CON1) |
			      SPM_REGWR_CFG_KEY | IM_SLAVE_LSB);
	}

	/* kick IM to fetch (only toggle IM_KICK) */
	con0 = mmio_read_32(PCM_CON0) & ~(IM_KICK_L_LSB | PCM_KICK_L_LSB);
	mmio_write_32(PCM_CON0, con0 | SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB |
		      IM_KICK_L_LSB);
	mmio_write_32(PCM_CON0, con0 | SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB);
}

void spm_init_pcm_register(void)
{
	mmio_write_32(PCM_REG_DATA_INI, mmio_read_32(SPM_POWER_ON_VAL0));
	mmio_write_32(PCM_PWR_IO_EN, PCM_RF_SYNC_R0);
	mmio_write_32(PCM_PWR_IO_EN, 0);

	mmio_write_32(PCM_REG_DATA_INI, mmio_read_32(SPM_POWER_ON_VAL1));
	mmio_write_32(PCM_PWR_IO_EN, PCM_RF_SYNC_R7);
	mmio_write_32(PCM_PWR_IO_EN, 0);
}

void spm_init_event_vector(const struct pcm_desc *pcmdesc)
{
	mmio_write_32(PCM_EVENT_VECTOR0, pcmdesc->vec0);
	mmio_write_32(PCM_EVENT_VECTOR1, pcmdesc->vec1);
	mmio_write_32(PCM_EVENT_VECTOR2, pcmdesc->vec2);
	mmio_write_32(PCM_EVENT_VECTOR3, pcmdesc->vec3);
	mmio_write_32(PCM_EVENT_VECTOR4, pcmdesc->vec4);
	mmio_write_32(PCM_EVENT_VECTOR5, pcmdesc->vec5);
	mmio_write_32(PCM_EVENT_VECTOR6, pcmdesc->vec6);
	mmio_write_32(PCM_EVENT_VECTOR7, pcmdesc->vec7);
	mmio_write_32(PCM_EVENT_VECTOR8, pcmdesc->vec8);
	mmio_write_32(PCM_EVENT_VECTOR9, pcmdesc->vec9);
	mmio_write_32(PCM_EVENT_VECTOR10, pcmdesc->vec10);
	mmio_write_32(PCM_EVENT_VECTOR11, pcmdesc->vec11);
	mmio_write_32(PCM_EVENT_VECTOR12, pcmdesc->vec12);
	mmio_write_32(PCM_EVENT_VECTOR13, pcmdesc->vec13);
	mmio_write_32(PCM_EVENT_VECTOR14, pcmdesc->vec14);
	mmio_write_32(PCM_EVENT_VECTOR15, pcmdesc->vec15);
}

void spm_kick_pcm_to_run(void)
{
	uint32_t con0;

	mmio_write_32(SPM_MAS_PAUSE_MASK_B, 0xffffffff);
	mmio_write_32(SPM_MAS_PAUSE2_MASK_B, 0xffffffff);
	mmio_write_32(PCM_REG_DATA_INI, 0);

	mmio_write_32(PCM_PWR_IO_EN, PCM_PWRIO_EN_R0 | PCM_PWRIO_EN_R7);

	/* check IM ready */
	while ((mmio_read_32(PCM_FSM_STA) & (0x7 << 7)) != (0x4 << 7))
		;

	/* kick PCM to run (only toggle PCM_KICK) */
	con0 = mmio_read_32(PCM_CON0) & ~(IM_KICK_L_LSB | PCM_KICK_L_LSB);
	mmio_write_32(PCM_CON0, con0 | SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB |
		      PCM_KICK_L_LSB);
	mmio_write_32(PCM_CON0, con0 | SPM_REGWR_CFG_KEY | PCM_CK_EN_LSB);
}

void spm_boot_init(void)
{
	NOTICE("%s() start\n", __func__);

	spm_register_init();
	spm_reset_and_init_pcm(&allinone_lp4_3200_pcm);
	spm_kick_im_to_fetch(&allinone_lp4_3200_pcm);
	spm_init_pcm_register();
	spm_init_event_vector(&allinone_lp4_3200_pcm);
	spm_kick_pcm_to_run();

	NOTICE("%s() end\n", __func__);
}
